# rtsp2hls
The program is designed to organize access to an IP-camera through a website. The setup is simplified as much as possible - you need to add cameras by specifying their RTSP links, fill in a couple of parameters and run the server program. If there are no spectators at the moment, then video stream from the camera will not be captured.

---

Установка и настройка:

1. Распаковываем программу в нужное вам место. Программа после запуска должна иметь возможность писать в свою вложенную папку data (да, не самое лучшее решение, я знаю), поэтому проверьте права на запись в нее.
2. Определитесь, будете ли вы использовать SSL-сертификат. Если да (строго рекомендую), то получаете сертификат на свое доменное имя и устанавливаете:
   a) Для формата PEM: разместите файлы сертификата под именами cert.pem и privkey.pem в подпапке data.
   b) Для формата PFX: разместите сертификат под именем cert.pfx в подпапке data (в случае использования обоих форматов приоритет отдается PEM).
   c) Иные форматы: не поддерживаются, требуется конвертация (например, через программу OpenSSL).
3. Запускаем Конфигуратор файлом "Configurator.exe". Если сервер не на Windows, то вам придется скопировать Конфигуратор на соответствующий компьютер, там настроить и скопировать конфиг "data/config.xml" на сервер. Также можно расшарить папку с файлами программы по сети и запускать Конфигуратор из нее – этот способ использую я сам.
4. Добавляем камеры, прописываем RTSP-ссылки. Придумываем секретный общий ключ из латинских букв и цифр, указываем адрес сервера (необязательно в случае «просто посмотреть, протестировать»). Если используется SSL сертификат – включите защищенное соединение галочкой. Если вы используете сертификат формата PFX, то укажите пароль на него.
5. Копируем себе ссылки на камеры из поля в нижней части окна Конфигуратора.
6. Запускаем серверную часть файлом RTSP2HLS.exe (Windows) или RTSP2HLS (Linux). Оба варианта являются консольной программой.
7. Если целью установки программы не было тестирование, то скорее всего вам придется пробросить порты на роутере, чтобы сервер был виден из интернета (по умолчанию используется порт tcp/8000, его лучше изменить в Конфигураторе). А также добавить сервер в автозагрузку. Здесь вам придется действовать самим.
8. Готово – теперь вы можете смотреть камеры в браузере по тем ссылкам, которые вы скопировали в п.5.

Подробности о программе здесь: https://habr.com/ru/post/598257/

---

Донат. Если вы хотите поддержать автора, то это можно сделать через:
Киви    VERSETTY
ЮMoney  41001838943932
